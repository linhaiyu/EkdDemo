<div class="panel panel-primary">
    <div class="panel panel-body">
        <form novalidate class="form-horizontal w5c-form" role="form" w5c-form-validate="vm.validateOptions" id="flowout_scantable" name="flowout_scantable">
            <div class="form-group">
                <label for="fo_stmode" class="col-md-2 control-label">St Mode</label>
                <div class="col-md-3">
                    <input type="number" id="fo_stmode" name="fo_stmode" max="2" min="0" step="1" value="0" class="form-control" ng-model="fo_setting.stmode" required="" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">St Mode: <strong>0 - Doppler, 1 - Transit-Time, 2 - Tool-Joint-Locator</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_transducer_num" class="col-md-2 control-label">Transducer Num</label>
                <div class="col-md-3">
                    <input type="number" id="fo_transducer_num" name="fo_transducer_num" max="32" min="1" step="1" value="16" class="form-control" ng-model="fo_setting.transducer_num" required="" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">Transducer number, the valid input value range is <strong>[1, 32]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_prt" class="col-md-2 control-label">PRT</label>
                <div class="col-md-3">
                    <input type="number" id="fo_prt" name="fo_prt" max="1.000" min="0.000" step="0.001" value="0.001" class="form-control" ng-model="fo_setting.prt" required="" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">PRT value, the valid input value range is <strong>[0.0s, 1.0s]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_prf" class="col-md-2 control-label">PRN</label>
                <div class="col-md-3">
                    <input type="number" id="fo_prf" name="fo_prf" max="512" min="1" step="1" value="128" class="form-control" ng-model="fo_setting.prf" required />
                </div>
                <div class="col-md-6">
                    <p class="help-block">PRN value, the valid input value range is <strong>[1, 512]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_f0" class="col-md-2 control-label">F0</label>
                <div class="col-md-3">
                    <input type="number" id="fo_f0" name="fo_f0" max="250" min="100" step="1" value="250" class="form-control" ng-model="fo_setting.f0" required />
                </div>
                <div class="col-md-6">
                    <p class="help-block">F0 value, the valid input value range is <strong>[100k, 250k]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_pulse_st" class="col-md-2 control-label">Pulse ST</label>
                <div class="col-md-3">
                    <input type="number" id="fo_pulse_st"  name="fo_pulse_st" step="0.01" value="0.16" class="form-control" ng-model="fo_setting.pulse_st" required="" associate="fo_prt" w5c-customizer="vm.pulse_st_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">Pulse ST value, the valid input value range is <strong>[0us, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_pulse_et" class="col-md-2 control-label">Pulse ET</label>
                <div class="col-md-3">
                    <select name="fo_pulse_et" id="fo_pulse_et" class="form-control" ng-model="fo_setting.pulse_et" required
                    ng-options="item as item for item in fo_setting_threshold.pulse_et_items"></select>
                </div>
                <div class="col-md-6">
                    <p class="help-block">The Pulse ET value based on the PulseST value and the F0 value</p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_damp_st" class="col-md-2 control-label">Damp ST</label>
                <div class="col-md-3">
                    <input type="number" id="fo_damp_st" name="fo_damp_st" step="0.01" value="8.32" class="form-control" ng-model="fo_setting.damp_st" required="" associate="fo_prt" w5c-customizer="vm.damp_st_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">Damp ST value, the valid input value range is <strong>[Pulse ET + 0.08us, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_damp_et" class="col-md-2 control-label">Damp ET</label>
                <div class="col-md-3">
                    <input type="number" id="fo_damp_et" name="fo_damp_et" step="0.01" value="18.32" class="form-control" ng-model="fo_setting.damp_et" required associate="fo_prt" w5c-customizer="vm.damp_et_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">Damp ET value, the valid input value range is <strong>[DampST, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_sample_st" class="col-md-2 control-label">Sample ST</label>
                <div class="col-md-3">
                    <input type="number" id="fo_sample_st" name="fo_sample_st" step="0.01" value="0.16" class="form-control" ng-model="fo_setting.sample_st" required associate="fo_prt" w5c-customizer="vm.sample_st_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">Sample ST value, the valid input value range is <strong>[0us, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_sample_et" class="col-md-2 control-label">Sample ET</label>
                <div class="col-md-3">
                    <span id="fo_sample_et"> {{fo_setting.sample_et}} </span>
                </div>
                <div class="col-md-6">
                    <p class="help-block">The Sample ET value depends on the SampleST</p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_afe_tgc_st" class="col-md-2 control-label">AfeTgc ST</label>
                <div class="col-md-3">
                    <input type="number" id="fo_afe_tgc_st" name="fo_afe_tgc_st" step="0.01" value="0.64" class="form-control" ng-model="fo_setting.afetgc_st" required associate="fo_prt" w5c-customizer="vm.afetgc_st_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">AfeTgc ST value, the valid input value range is <strong>[0us, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_lna_tgc_st" class="col-md-2 control-label">LnaTgc ST</label>
                <div class="col-md-3">
                    <input type="number" id="fo_lna_tgc_st" name="fo_lna_tgc_st" step="0.01" value="0.64" class="form-control" ng-model="fo_setting.lnatgc_st" required associate="fo_prt" w5c-customizer="vm.lnatgc_st_customizer()" />
                </div>
                <div class="col-md-6">
                    <p class="help-block">LnaTgc ST value, the valid input value range is <strong>[0us, PRT]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_activetransdis" class="col-md-2 control-label">ActiveTransDis</label>
                <div class="col-md-3">
                    <input type="number" id="fo_activetransdis" name="fo_activetransdis" min="1" max="16" step="1" value="1" class="form-control" ng-model="fo_setting.active_trans_dis" required />
                </div>
                <div class="col-md-6">
                    <p class="help-block">ActiveTransDis value, the valid input value range is <strong>[1, 16]</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="fo_dopplermodesel" class="col-md-2 control-label">Doppler Mode</label>

                <div class="col-md-3">
                    <input type="number" id="fo_dopplermodesel" name="fo_dopplermodesel" min="0" max="1" step="1" value="0" class="form-control" ng-model="fo_setting.doppler_mode" required />

                </div>
                <div class="col-md-6">
                    <p class="help-block">Doppler Mode, please select: <strong>0 - continue</strong> or <strong>1 - scan</strong></p>
                </div>
            </div>

            <div class="form-group">
                <label for="flowout_phylogchmap" class="col-md-2 control-label">PhyLogChMap</label>
                <div class="col-md-3">
                    <button type="button" class="btn btn-default" id="flowout_phylogchmap" name="flowout_phylogchmap" ng-click="set_flowout_phylogchmap()" ng-disabled="configure_dis_flag">PhyLogMap Configure</button>
                </div>
                <div class="col-md-6">
                    <p class="help-block">PhyLogMap Configuration</p>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-5 col-md-5">
                    <button type="reset" class="btn btn-default" ng-click="reset_fo_setting()" ng-disabled="configure_dis_flag">Reset Configuration</button>
                    <button type="submit" class="btn btn-primary" ng-disabled="configure_dis_flag" w5c-form-submit="confirm_fo_setting()">Confirm Configuration</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Flow Out Phylogmap Configure Dialog -->
<div class="modal" id="flowout_phylogchmap_cfg" tabindex="-1" role="dialog" aria-labelledby="warning modal ...">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h3 class="modal-title">Flow Out Phylogmap Configuration</h3>
            </div>
           <div class="modal-body">
                <form id="flowout_scantable_mapch" name="flowout_scantable_mapch" ng-submit="confirm_fo_mapch(flowout_scantable_mapch.$valid)" novalidate>
                    <table class="table">
                        <tr class="info">
                            <th>#</th>
                            <th>Board<br>Number</th>
                            <th>Sync<br>Number</th>
                            <th>Phy<br>Channel</th>
                            <th>Pulse<br>Enable</th>
                            <th>Receive<br>Enable</th>
                            <th>Log<br>Channel</th>
                        </tr>
                        <tr class="info">
                            <td>.</td>
                            <td><p class="help-block">[0, 3]</p></td>
                            <td><p class="help-block">[0, 3]</p></td>
                            <td><p class="help-block">[0, 7]</p></td>
                            <td><p class="help-block">[0, 1]</p></td>
                            <td><p class="help-block">[0, 1]</p></td>
                            <td><p class="help-block">[0, 31]</p></td>
                        </tr>

                        <tr ng-repeat="item in fo_phylogmapch" screpeat-finish="flowout_mapch_init()">
                            <td><strong>#{{$index+1}}</strong></td>
                            <td ng-class="{'has-error': flowout_scantable_mapch.fo_boardnum_{{$index+1}}.$invalid}">
                                <input type="number" id="fo_boardnum_{{$index+1}}" name="fo_boardnum_{{$index+1}}" class="form-control input-mini" min="0" max="3" value="0" ng-model="fo_phylogmapch[$index].BoardNum" required integer/>
                                <p ng-show="flowout_scantable_mapch.fo_boardnum_{{$index+1}}.$error.integer" class="help-block">Not valid</p>
                                <p ng-show="flowout_scantable_mapch.fo_boardnum_{{$index+1}}.$error.min" class="help-block">Value too small</p>
                                <p ng-show="flowout_scantable_mapch.fo_boardnum_{{$index+1}}.$error.max" class="help-block">Value too big</p>
                            </td>

                            <td ng-class="{'has-error': flowout_scantable_mapch.fo_syncnum_{{$index+1}}.$invalid}">
                                <input type="number" id="fo_syncnum_{{$index+1}}" name="fo_syncnum_{{$index+1}}" class="form-control input-mini" min="0" max="3" value="0" ng-model="fo_phylogmapch[$index].SyncNum" required integer/>
                                <p ng-show="flowout_scantable_mapch.fo_syncnum_{{$index+1}}.$error.integer" class="help-block">Not valid</p>
                                <p ng-show="flowout_scantable_mapch.fo_syncnum_{{$index+1}}.$error.min" class="help-block">Value too small</p>
                                <p ng-show="flowout_scantable_mapch.fo_syncnum_{{$index+1}}.$error.max" class="help-block">Value too big</p>
                            </td>

                            <td ng-class="{'has-error': flowout_scantable_mapch.fo_phychannel_{{$index+1}}.$invalid}">
                                <input type="number" id="fo_phychannel_{{$index+1}}" name="fo_phychannel_{{$index+1}}" class="form-control input-mini" min="0" max="7" value="0" ng-model="fo_phylogmapch[$index].PhyChannel" required integer/>
                                <p ng-show="flowout_scantable_mapch.fo_phychannel_{{$index+1}}.$error.integer" class="help-block">Not valid</p>
                                <p ng-show="flowout_scantable_mapch.fo_phychannel_{{$index+1}}.$error.min" class="help-block">Value too small</p>
                                <p ng-show="flowout_scantable_mapch.fo_phychannel_{{$index+1}}.$error.max" class="help-block">Value too big</p>
                            </td>
                            <td>
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn btn-default btn-xs" ng-click="set_pulse_enable($index, true)">
                                        <input type="radio" name="fo_pulse_enable_{{$index+1}}" id="fope_enable_{{$index+1}}" autocomplete="off">enable</input>
                                    </label>
                                    <label class="btn btn-default btn-xs" ng-click="set_pulse_enable($index, false)">
                                        <input type="radio" name="fo_pulse_enable_{{$index+1}}" id="fope_disable_{{$index+1}}" autocomplete="off">disable</input>
                                    </label>
                                </div>
                            </td>
                            <td>
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn btn-default btn-xs" ng-click="set_receive_enable($index, true)">
                                        <input type="radio" name="fo_receive_enable_{{$index+1}}" id="fore_enable_{{$index+1}}" autocomplete="off">enable</input>
                                    </label>
                                    <label class="btn btn-default btn-xs" ng-click="set_receive_enable($index, false)">
                                        <input type="radio" name="fo_receive_enable_{{$index+1}}" id="fore_disable_{{$index+1}}" autocomplete="off">disable</input>
                                    </label>
                                </div>
                            </td>
                            <td ng-class="{'has-error': flowout_scantable_mapch.fo_logchannel_{{$index+1}}.$invalid}">
                                <input type="number" id="fo_logchannel_{{$index+1}}" name="fo_logchannel_{{$index+1}}" class="form-control input-mini" min="0" max="31" value="0" ng-model="fo_phylogmapch[$index].LogChannel" required integer />
                                <p ng-show="flowout_scantable_mapch.fo_logchannel_{{$index+1}}.$error.integer" class="help-block">Not valid</p>
                                <p ng-show="flowout_scantable_mapch.fo_logchannel_{{$index+1}}.$error.min" class="help-block">Value too small</p>
                                <p ng-show="flowout_scantable_mapch.fo_logchannel_{{$index+1}}.$error.max" class="help-block">Value too big</p>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="reset_fo_mapch()" form="flowout_scantable_mapch">Reset Configuration</button>
                <button type="submit" class="btn btn-primary" form="flowout_scantable_mapch">Confirm Configuration</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
